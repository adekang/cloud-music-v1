(this["webpackJsonpcould-music"]=this["webpackJsonpcould-music"]||[]).push([[6],{133:function(n,t,e){"use strict";var i,r=e(3),a=e(0),o=e.n(a),c=e(4),s=e(7),l=e(2),d=e(1),f=c.b.div(i||(i=Object(r.a)(["\n  .icon_wrapper {\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n    color: ",";\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62, -0.1, .86, .57);\n    transform: translate3d(0, 0, 0);\n\n    > div {\n      transition: transform 1s;\n    }\n  }\n"])),l.a["theme-color"]),p=Object(a.forwardRef)((function(n,t){var e=Object(a.useRef)(),i=Object(s.h)("transform"),r=function(n){var t="<div class='icon_wrapper'>".concat(n,"</div>"),e=document.createElement("div");return e.innerHTML=t,e.firstChild};Object(a.useEffect)((function(){for(var n=0;n<3;n++){var t=r('<div class="iconfont">&#xe642;</div>');e.current.appendChild(t)}[].slice.call(e.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style[i]="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style[i]="translate3d(0, 0, 0)"}),!1)}))}),[]);var o=function(n){for(var t=n.x,r=n.y,a=function(n){var a=[].slice.call(e.current.children)[n];if(!1===a.running)return a.style.left=t+"px",a.style.top=r+"px",a.style.display="inline-block",setTimeout((function(){a.running=!0,a.style[i]="translate3d(0, 750px, 0)",a.querySelector("div").style[i]="translate3d(-40px, 0, 0)"}),20),"break"},o=0;o<3;o++){if("break"===a(o))break}};return Object(a.useImperativeHandle)(t,(function(){return{startAnimation:o}})),Object(d.jsx)(f,{ref:e})}));t.a=o.a.memo(p)},134:function(n,t,e){"use strict";e.d(t,"b",(function(){return s})),e.d(t,"a",(function(){return l}));var i,r,a=e(3),o=e(4),c=e(2),s=o.b.div(i||(i=Object(a.a)(["\n  border-radius: 10px;\n  opacity: 0.98;\n\n  ","\n  .first_line {\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n\n    .play_all {\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n\n      .sum {\n        font-size: ",";\n        color: ",";\n      }\n\n      > span {\n        vertical-align: top;\n      }\n    }\n\n    .add_list, .isCollected {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n\n      span {\n        font-size: 14px;\n        line-height: 34px;\n      }\n    }\n\n    .isCollected {\n      display: flex;\n      background: ",";\n      color: ",";\n    }\n  }\n"])),(function(n){return n.showBackground?"background: ".concat(c.a["highlight-background-color"],";"):""}),c.a["border-color"],c.a["font-color-desc"],c.a["font-size-s"],c.a["font-color-desc-v2"],c.a["theme-color"],c.a["font-color-light"],c.a["background-color"],c.a["font-color-desc"]),l=o.b.ul(r||(r=Object(a.a)(["\n  > li {\n    display: flex;\n    height: 60px;\n    align-items: center;\n\n    .index {\n      flex-basis: 60px;\n      width: 60px;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n    }\n\n    .info {\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 5px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n\n      ","\n      > span {\n        ","\n      }\n\n      > span:first-child {\n        color: ",";\n      }\n\n      > span:last-child {\n        font-size: ",";\n        color: #bba8a8;\n      }\n    }\n  }\n"])),c.a["border-color"],c.a.noWrap(),c.a.noWrap(),c.a["font-color-desc"],c.a["font-size-s"])},140:function(n,t,e){"use strict";var i=e(0),r=e.n(i),a=e(134),o=e(7),c=e(13),s=e(27),l=e(1),d=r.a.forwardRef((function(n,t){var e,i=n.collectCount,r=n.showCollect,c=n.songs,s=n.musicAnimation,d=n.changePlayListDispatch,f=n.changeCurrentIndexDispatch,p=n.changeSequecePlayListDispatch,b=c.length,u=function(n,t){d(c),p(c),f(t),s(n.nativeEvent.clientX,n.nativeEvent.clientY)};return Object(l.jsxs)(a.b,{ref:t,showBackground:n.showBackground,children:[Object(l.jsxs)("div",{className:"first_line",children:[Object(l.jsxs)("div",{className:"play_all",onClick:function(n){return u(n,0)},children:[Object(l.jsx)("i",{className:"iconfont",children:"\ue6e3"}),Object(l.jsxs)("span",{children:["\u64ad\u653e\u5168\u90e8 ",Object(l.jsxs)("span",{className:"sum",children:["(\u5171",b,"\u9996)"]})]})]}),r?(e=i,Object(l.jsxs)("div",{className:"add_list",children:[Object(l.jsx)("i",{className:"iconfont",children:"\ue62d"}),Object(l.jsxs)("span",{children:["\u6536\u85cf(",Math.floor(e/1e3)/10,"\u4e07)"]})]})):null]}),Object(l.jsx)(a.a,{children:function(n){for(var t=[],e=function(e){var i=n[e];t.push(Object(l.jsxs)("li",{onClick:function(n){return u(n,e)},children:[Object(l.jsx)("span",{className:"index",children:e+1}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("span",{children:i.name}),Object(l.jsxs)("span",{children:[i.ar?Object(o.f)(i.ar):Object(o.f)(i.artists)," - ",i.al?i.al.name:i.album.name]})]})]},i.id))},i=0;i<n.length;i++)e(i);return t}(c)})]})}));t.a=Object(s.b)(null,(function(n){return{changePlayListDispatch:function(t){n(Object(c.d)(t))},changeCurrentIndexDispatch:function(t){n(Object(c.a)(t))},changeSequecePlayListDispatch:function(t){n(Object(c.g)(t))}}}))(r.a.memo(d))},141:function(n,t,e){"use strict";var i,r,a,o=e(3),c=e(0),s=e.n(c),l=e(4),d=e(2),f=Object(l.c)(i||(i=Object(o.a)([" from {\n                             left: 100%;\n                           }\n                             to {\n                               left: -100%;\n                             }\n                             from {\n                               transform: translateX(100%);\n                             }\n                             to {\n                               transform: translateX(-100%);\n                             } "]))),p=l.b.div(r||(r=Object(o.a)([" width: 100%;\n  height: 35px;\n  overflow: hidden;\n  position: relative;\n  white-space: nowrap;\n\n  h1 {\n    position: absolute;\n    animation: "," 10s linear infinite;\n  } "])),f),b=e(1),u=l.b.div(a||(a=Object(o.a)(["\n  position: fixed;\n  padding: 5px 10px;\n  padding-top: 0;\n  height: 40px;\n  width: 100%;\n  z-index: 100;\n  display: flex;\n  line-height: 40px;\n  background-color: #d44439;\n  color: ",";\n\n  .back {\n    margin-right: 5px;\n    font-size: 20px;\n    width: 20px;\n  }\n\n  > h1 {\n    font-size: ",";\n    font-weight: 700;\n  }\n"])),d.a["font-color-light"],d.a["font-size-l"]),h=s.a.forwardRef((function(n,t){var e=n.handleClick,i=n.title,r=n.isMarquee,a=void 0!==r&&r;return Object(b.jsxs)(u,{ref:t,children:[Object(b.jsx)("i",{className:"iconfont back",onClick:e,children:"\ue655"}),a?Object(b.jsx)(p,{children:Object(b.jsx)("h1",{children:i})}):Object(b.jsx)("h1",{children:i})]})}));t.a=s.a.memo(h)},153:function(n,t,e){"use strict";e.r(t);var i,r,a,o,c,s=e(12),l=e(0),d=e.n(l),f=e(131),p=e(3),b=e(4),u=e(2),h=b.b.div(i||(i=Object(p.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: ",";\n  width: 100%;\n  z-index: 100;\n  overflow: hidden;\n  background: #f2f3f4;\n  transform-origin: right bottom;\n\n  &.fly-enter, &.fly-appear {\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n\n  &.fly-enter-active, &.fly-appear-active {\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n\n  &.fly-exit {\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n\n  &.fly-exit-active {\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"])),(function(n){return n.play>0?"60px":0})),x=b.b.div(r||(r=Object(p.a)(["\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-top: 75%;\n  transform-origin: top;\n  background: url(",");\n  background-size: cover;\n  z-index: 50;\n\n  .filter {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(7, 17, 27, 0.3);\n  }\n"])),(function(n){return n.bgUrl})),g=b.b.div(a||(a=Object(p.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: auto;\n  box-sizing: border-box;\n  width: 120px;\n  height: 40px;\n  margin-top: -55px;\n  z-index: 50;\n  background: ",";\n  color: ",";\n  border-radius: 20px;\n  text-align: center;\n  font-size: 0;\n  line-height: 40px;\n\n  .iconfont {\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 12px;\n    vertical-align: 1px;\n  }\n\n  .text {\n    display: inline-block;\n    font-size: 14px;\n    letter-spacing: 5px;\n  }\n"])),u.a["theme-color"],u.a["font-color-light"]),j=b.b.div(o||(o=Object(p.a)(["\n  position: absolute;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n\n  > div {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    overflow: visible;\n  }\n"]))),m=b.b.div(c||(c=Object(p.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  background: white;\n  border-radius: 10px;\n  z-index: 50;\n"]))),O=e(10),v=e(141),y=e(33),k=e(27),z=e(47),w=e(53),C=e(140),I=e(133),N=e(1);function R(n){var t=Object(l.useRef)(0),e=Object(l.useState)(!0),i=Object(s.a)(e,2),r=i[0],a=i[1],o=n.artist,c=n.songs,d=n.loading,p=n.getSingerDataDispatch,b=o.toJS(),u=c.toJS(),k=Object(l.useRef)(),w=Object(l.useRef)(),R=Object(l.useRef)(),D=Object(l.useRef)(),S=Object(l.useRef)(),E=Object(l.useRef)();Object(l.useEffect)((function(){var e=n.match.params.id;p(e);var i=w.current.offsetHeight;t.current=i,R.current.style.top="".concat(i-5,"px"),E.current.style.top="".concat(i-5,"px"),D.current.refresh()}),[]);var _=Object(l.useCallback)((function(n){var e=t.current,i=n.y,r=w.current,a=k.current,o=S.current,c=E.current,s=-(e-5)+O.a,l=Math.abs(i/e);i>0?(r.style.transform="scale(".concat(1+l,")"),a.style.transform="translate3d(0, ".concat(i,"px, 0)"),c.style.top="".concat(e-5+i,"px")):i>=s?(c.style.top="".concat(e-5-Math.abs(i),"px"),c.style.zIndex=1,r.style.paddingTop="75%",r.style.height=0,r.style.zIndex=-1,a.style.transform="translate3d(0, ".concat(i,"px, 0)"),a.style.opacity="".concat(1-2*l)):i<s&&(c.style.top="".concat(O.a-5,"px"),c.style.zIndex=1,o.style.zIndex=100,r.style.height="".concat(O.a,"px"),r.style.paddingTop=0,r.style.zIndex=99)}),[]),L=Object(l.useCallback)((function(){a(!1)}),[]),q=Object(l.useRef)();return Object(N.jsx)(f.a,{in:r,timeout:300,classNames:"fly",appear:!0,unmountOnExit:!0,onExited:function(){return n.history.goBack()},children:Object(N.jsxs)(h,{children:[Object(N.jsx)(v.a,{handleClick:L,title:b.name,ref:S}),Object(N.jsx)(x,{ref:w,bgUrl:b.picUrl,children:Object(N.jsx)("div",{className:"filter"})}),Object(N.jsxs)(g,{ref:k,children:[Object(N.jsx)("i",{className:"iconfont",children:"\ue62d"}),Object(N.jsx)("span",{className:"text",children:"\u6536\u85cf"})]}),Object(N.jsx)(m,{ref:E}),Object(N.jsx)(j,{ref:R,children:Object(N.jsx)(y.a,{ref:D,onScroll:_,children:Object(N.jsx)(C.a,{songs:u,showCollect:!1,musicAnimation:function(n,t){q.current.startAnimation({x:n,y:t})}})})}),d?Object(N.jsx)(z.a,{}):null,Object(N.jsx)(I.a,{ref:q})]})})}t.default=Object(k.b)((function(n){return{artist:n.getIn(["singerInfo","artist"]),songs:n.getIn(["singerInfo","songsOfArtist"]),loading:n.getIn(["singerInfo","loading"])}}),(function(n){return{getSingerDataDispatch:function(t){n(Object(w.a)(!0)),n(Object(w.b)(t))}}}))(d.a.memo(R))}}]);
//# sourceMappingURL=6.59dde304.chunk.js.map